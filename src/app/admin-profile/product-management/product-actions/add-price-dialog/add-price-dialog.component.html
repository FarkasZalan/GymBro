<div class="container-all-window">
    <!-- add price title -->
    <h1 *ngIf="!editText" id="title" class="title">{{ 'products.addNewPrice' | translate
        }}</h1>
    <h1 *ngIf="editText" id="title" class="title">{{ 'products.editPrice' | translate
        }}</h1>
    <!-- add price form -->
    <div class="container">
        <nb-card>
            <nb-card-body>
                <div>
                    <form (ngSubmit)="addNewPrice()" #form="ngForm">
                        <!-- quantity in product (lbs, gram, pcs) block -->
                        <div *ngIf="productCategory !== productViewText.CLOTHES" class="form-group">
                            <label for="quantityInProduct" class="label">{{ 'products.quantityInProduct' | translate
                                }}</label>
                            <input type="number" class="form-control" name="quantityInProduct" fullWidth
                                placeholder="{{ unitText }} ({{ selectedUnit | translate }})" required
                                #quantityInProduct="ngModel" [(ngModel)]="newPrice.quantityInProduct" />
                            <!-- quantity in product error block -->
                            <span class="help-block" *ngIf="!quantityInProduct.valid && quantityInProduct.touched">{{
                                'register.fieldRequired' | translate }}</span>
                        </div><br>

                        <!-- Product color (Dropdown) -->
                        <div *ngIf="productCategory === productViewText.CLOTHES" class="row">
                            <div class="col-md-12 form-group">
                                <label for="clothingColor" class="label">{{ 'products.clothes.color' | translate
                                    }}</label>
                                <select class="form-control drop-down-list allow-selected-list-color"
                                    name="clothingColor" required #clothingColor="ngModel" [(ngModel)]="selectedColor"
                                    (ngModelChange)="isColorSelected()">
                                    <!-- Placeholder option -->
                                    <option value="" selected disabled>{{ 'products.clothes.colors.selectColor' |
                                        translate }}
                                    </option>

                                    <!-- List of available colors -->
                                    <option *ngFor="let colorElement of availableClothingColors"
                                        [value]="colorElement.color">
                                        {{ colorElement.color | translate }}
                                    </option>
                                </select>
                                <span class="help-block" *ngIf="clothingColor.touched && !clothingColor.valid">{{
                                    'register.fieldRequired' | translate }}</span>
                            </div>
                        </div><br>

                        <!-- Cloth size (Dropdown) -->
                        <div *ngIf="productCategory === productViewText.CLOTHES" class="row">
                            <div class="col-md-12 form-group">
                                <label for="clothingSize" class="label">{{ 'products.clothes.size' | translate
                                    }}</label>
                                <select class="form-control drop-down-list allow-selected-list-color"
                                    name="clothingSize" required #clothingSize="ngModel" [(ngModel)]="selectedSize">
                                    <!-- Placeholder option -->
                                    <option value="" selected disabled>{{ 'products.clothes.selectSize' |
                                        translate }}
                                    </option>

                                    <!-- List of sizes -->
                                    <option *ngFor="let size of availableClothingSizes" [value]="size">
                                        {{ size }}
                                    </option>
                                </select>
                                <span class="help-block" *ngIf="clothingSize.touched && !clothingSize.valid">{{
                                    'register.fieldRequired' | translate }}</span>
                            </div>
                        </div><br>

                        <!-- Product Image block -->
                        <div *ngIf="productCategory !== productViewText.CLOTHES || (selectedColor !== '')"
                            [@collapseField] class="form-group">
                            <label for="productImage" class="label">{{ 'products.productImage' | translate
                                }}</label>
                            <input *ngIf="productCategory !== productViewText.CLOTHES" type="file" class="form-control"
                                (change)="onFileSelected($event)" />
                            <div *ngIf="imagePreview">
                                <img [src]="imagePreview" alt="Image Preview" class="image-preview" />
                            </div>

                            <div *ngIf="imagePreview === ''">
                                <img src="../../../../../../assets/images/gym-bro-logo.png" alt="Image Preview"
                                    class="image-preview" />
                            </div>
                            <br>
                        </div>

                        <!-- Product Price block -->
                        <div class="form-group">
                            <label for="productPrice" class="label">{{ 'products.productPrice' | translate
                                }}</label>
                            <input type="number" class="form-control" name="productPrice" fullWidth placeholder="{{ 'products.price' | translate
                                }} ({{ 'products.huf' | translate }})" required #productPrice="ngModel"
                                [(ngModel)]="newPrice.productPrice" />
                            <!-- price error block -->
                            <span class="help-block" *ngIf="!productPrice.valid && productPrice.touched">{{
                                'register.fieldRequired' | translate }}</span>
                        </div><br>

                        <!-- Product Stock block -->
                        <div class="form-group">
                            <label for="productStock" class="label">{{ 'products.productStock' | translate
                                }}</label>
                            <input type="number" class="form-control" name="productStock" fullWidth placeholder="{{ 'products.stock' | translate
                                }} ({{ productViewText.PIECES | translate }})" required #productStock="ngModel"
                                [(ngModel)]="newPrice.productStock" />
                            <!-- stock error block -->
                            <span class="help-block" *ngIf="!productStock.valid && productStock.touched">{{
                                'register.fieldRequired' | translate }}</span>
                        </div><br>

                        <!-- set to default price Checkbox -->
                        <div class="form-group">
                            <label for="setToDefaultAddress" class="checkbox-container">
                                <label for="setToDefaultAddress">{{ 'profileMenu.shippingAddressForm.setToDefault' |
                                    translate }}
                                </label>
                                <input type="checkbox" [(ngModel)]="isSetAsDefaultPrice" name="setToDefaultAddress"
                                    id="setToDefaultAddress" #admin="ngModel">
                                <span class="checkmark"></span>
                            </label>
                        </div><br>

                        <!-- Error block -->
                        <span *ngIf="errorMessage" class="help-block-login-error">
                            <i class="fas fa-exclamation-triangle icon"></i>
                            {{ errorMessage }}
                        </span>

                        <!-- Submit button -->
                        <div class="send-button-container">
                            <button class="btn btn-primary forgot-btn" type="submit" nbButton status="success"
                                [disabled]="!form.valid">
                                {{ buttonText }}
                            </button>
                        </div>
                    </form>

                    <div *ngIf="editText" class="send-button-container">
                        <button class="btn btn-primary forgot-btn btn delete-btn" type="button" nbButton
                            status="warning" (click)="deletePrice()">
                            {{ 'profileMenu.shippingAddressForm.deleteAddress' | translate }}
                        </button>
                    </div>

                    <div class="send-button-container">
                        <button class="btn btn-primary forgot-btn" type="button" nbButton status="warning"
                            (click)="back()">
                            {{ 'loginPage.back' | translate }}
                        </button>
                    </div><br />
                </div>
            </nb-card-body>
        </nb-card>
    </div>
</div>